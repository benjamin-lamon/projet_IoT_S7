<!DOCTYPE html>
<html data-bs-theme="dark" lang="fr">
	<head>
		<!-- "inclure" Bootstrap5 -->
		<!-- Latest compiled and minified CSS -->
 		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
 		<!-- Latest compiled JavaScript -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script> 

		<title>Accueil - Logement éco-reponsable</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>
	<body>
		<div class="text-center p-5 bg-secondary text-white">
			<h1>Accueil - Logement éco-responsable</h1>
		</div>
		<div class="d-grid">
			<div class="btn-group">
				<a href="{{ url_for('accueil') }}" class="btn btn-primary">Accueil</a>
				<a href="{{ url_for('consommation') }}" class="btn btn-primary">Consommation</a>
				<a href="{{ url_for('capteurs') }}" class="btn btn-primary">Capteurs/Actionneurs</a>
				<a href="{{ url_for('economies') }}" class="btn btn-primary">Économies</a>
				<a href="{{ url_for('configuration') }}" class="btn btn-primary">Configuration</a>
			</div>
		</div>
		<!-- stuff -->
		<div class="container mt-3">
			<h2>Configuration</h2>
			<h3>Fonctions</h3>
			<p>Pour activer une fonction, vous pouvez cliquer sur le bouton "actif" (respectivement "inactif") pour passer son état à "inactif" (respectivement "actif")</p>            
			<table class="table table-dark table-striped">
				<thead>
				  <tr>
					<th>Fonction</th>
					<th>Etat</th>
					<th>Adresse</th>
				  </tr>
				</thead>
				<tbody>
					<!-- TODO: Boucle Jinja2 -->
					{% for x in data %}
					<tr>
						<td> {{x[0]}} </td>
						{% if x[1] == 1 %}
						<td><a href="{{ url_for('configuration') }}?toggleFunc={{x[3]}}" type="button" class="btn btn-primary">actif</a></td>
						{% else %}
						<td><a href="{{ url_for('configuration') }}?toggleFunc={{x[3]}}" type="button" class="btn btn-danger">inactif</a></td>
						{% endif %}
						<td> {{x[2]}} </td>
					</tr>
					{% endfor %}
				</tbody>
			  </table>
			  <br>
			  <h3> Gestion des capteurs/actionneurs : <h3>
			  <a href="{{ url_for('form_post1') }}" class="btn btn-outline-success">Ajout d'un capteur</a>

			  <br><br>
			  <h3>Logements enregistrés :</h3>
			  <table class="table table-dark table-striped">
				<thead>
				  <tr>
					<th>Adresse</th>
					<th>Numéro de téléphone</th>
					<th>IP</th>
					<th>Date d'ajout</th>
				  </tr>
				</thead>
				<tbody>
					{% for x in logements %}
					<tr>
						<td> {{x[0]}} </td>
						<td> 0{{x[1]}} </td>
						<td> {{x[2]}} </td>
						<td> {{x[3]}} </td>
					</tr>
					{% endfor %}
				</tbody>
			  </table>

		  </div>
		<!-- /stuff -->
	</body>
</html>